import sys
n=int(sys.stdin.readline())
def isprime(x):
    if x<2: return 0
    if x%2==0: return x==2
    d=3
    while d*d<=x:
        if x%d==0: return 0
        d+=2
    return 1

if n%2==0:
    print(2)
elif isprime(n):
    print(n)
elif isprime(n-2):
    print(2)
else:
    print(3)
