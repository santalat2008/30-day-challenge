for _ in range(int(input())):
    n = int(input())
    s = input()
    i = c = 0
    while i < n - 2:
        if s[i:i+3] == "map":
            if s[i+3:i+5] == "ie":
                c += 1
                i += 5
            else:
                c += 1
                i += 3
        elif s[i:i+3] == "pie":
            c += 1
            i += 3
        else:
            i += 1
    print(c)
