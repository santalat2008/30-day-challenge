t = int(input())
for _ in range(t):
    x, m = map(int, input().split())
    ans = 0
    for y in range(1, min(m, 2*x) + 1):
        if y == x:
            continue
        z = x ^ y
        if z != 0 and (x % z == 0 or y % z == 0):
            ans += 1
    print(ans)
