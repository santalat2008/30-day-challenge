for _ in range(int(input())):
    n = int(input())
    a = list(map(int, input().split()))
    mx = -1
    i = n - 1
    r = []
    while i >= 0:
        if a[i] > mx:
            r += a[i:i+1]
            mx = a[i]
            i -= 1
            while i >= 0 and a[i] < mx:
                r += a[i:i+1]
                i -= 1
        else:
            i -= 1
    print(*r)
