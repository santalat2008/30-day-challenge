n = int(input())
a = list(map(int, input().split()))

i = 0
while i+1 < n and a[i] <= a[i+1]:
    i += 1

if i == n-1:
    print(0)
else:
    j = i+1
    while j+1 < n and a[j] <= a[j+1]:
        j += 1
    if j != n-1 or a[-1] > a[0]:
        print(-1)
    else:
        print(n - (i+1))
