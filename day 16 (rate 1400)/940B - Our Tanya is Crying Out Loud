n=int(input())
k=int(input())
A=int(input())
B=int(input())
ans=0
while n>1:
    if k==1:
        ans+=(n-1)*A
        break
    if n%k==0:
        cost_div=B
        cost_sub=(n-n//k)*A
        ans+=min(cost_div,cost_sub)
        n//=k
    else:
        t=n%k
        if n-t<1: t=n-1
        ans+=t*A
        n-=t
print(ans)
