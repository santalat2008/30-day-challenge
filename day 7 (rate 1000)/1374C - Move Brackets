def solve():
    n = int(input())
    s = input()
    balance = 0
    moves = 0
    for char in s:
        if char == '(':
            balance += 1
        elif char == ')':
            if balance > 0:
                balance -= 1
            else:
                moves += 1
    print(moves)

t = int(input())
for _ in range(t):
    solve()
