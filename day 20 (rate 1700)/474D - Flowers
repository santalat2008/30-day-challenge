mod=10**9+7
t,k=map(int,input().split())
mx=0
qs=[]
ab=[]
for _ in range(t):
    a,b=map(int,input().split())
    ab.append((a,b))
    mx=max(mx,b)
dp=[0]*(mx+1)
dp[0]=1
for i in range(1,mx+1):
    dp[i]=dp[i-1]
    if i>=k:dp[i]=(dp[i]+dp[i-k])%mod
pre=[0]*(mx+1)
for i in range(1,mx+1):
    pre[i]=(pre[i-1]+dp[i])%mod
for a,b in ab:
    print((pre[b]-pre[a-1])%mod)
