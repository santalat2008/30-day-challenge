from collections import deque
n=int(input())
g=[[] for _ in range(n+1)]
for _ in range(n-1):
    x,y=map(int,input().split())
    g[x].append(y)
    g[y].append(x)
a=list(map(int,input().split()))
if a[0]!=1:
    print("No")
    exit()
pos=[0]*(n+1)
for i,v in enumerate(a):
    pos[v]=i
for i in range(1,n+1):
    g[i].sort(key=lambda x:pos[x])
vis=[0]*(n+1)
q=deque([1])
vis[1]=1
res=[]
while q:
    v=q.popleft()
    res.append(v)
    for u in g[v]:
        if not vis[u]:
            vis[u]=1
            q.append(u)
print("Yes" if res==a else "No")
