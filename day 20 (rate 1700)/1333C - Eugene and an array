n=int(input())
a=list(map(int,input().split()))
s=0
mp={0:1}
l=0
ans=0
for x in a:
    s+=x
    if s in mp:
        l=max(l,mp[s])
    ans+=l+1-1
    mp[s]=len(mp)+1
print(ans)
