for _ in range(int(input())):
    n, k = map(int, input().split())
    a = list(map(int, input().split()))
    p = set()
    ok = 1
    for x in a:
        i = 0
        while x:
            if x % k:
                if x % k != 1 or i in p:
                    ok = 0
                    break
                p.add(i)
                x -= 1
            x //= k
            i += 1
        if not ok:
            break
    print("YES" if ok else "NO")
