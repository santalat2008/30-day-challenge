t=int(input())
for _ in range(t):
    n=int(input())
    s=input().strip()
    ans=0
    for i in range(n):
        cnt=[0]*10
        d=0
        mx=0
        for j in range(i,min(n,i+100)):
            c=int(s[j])
            cnt[c]+=1
            if cnt[c]==1:
                d+=1
            mx=max(mx,cnt[c])
            if mx<=d:
                ans+=1
    print(ans)
